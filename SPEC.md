# LotS 安全数据管理平台

## 概述
LotS 是一个安全的数据管理平台，允许用户使用 Internet Identity 钱包认证和个人容器隔离来存储和管理加密的个人数据条目。

## 认证系统
- Internet Identity 钱包认证用户登录
- 获取主体和账户 ID
- 会话管理和登出功能
- 首次登录时显示"部署个人容器"按钮，手动触发容器部署

## 个人容器部署
- 真正的按用户部署容器：当用户点击"部署个人容器"时，后端必须可靠地创建新的容器
- 后端存储用户的容器 ID，确保该用户的所有未来数据操作都路由到其个人容器
- 容器部署状态持久化：部署成功后，UI 通过查询后端始终反映真实的容器状态（成功、错误或待处理）
- 部署过程中显示明确的加载状态，完成后显示相应的成功或错误消息
- 部署成功后，UI 必须更新以反映容器的存在，不再提示用户重新部署
- 确保每个用户获得唯一的个人容器
- 只有在容器部署成功后，前端才启用数据录入功能

## 数据存储
- 每个用户获得独立的个人容器用于加密数据存储
- 在个人容器内存储加密数据条目，支持预定义模板：
  - 加密钱包
  - 登录信息
  - 银行账户
  - 信用卡
  - 身份证件
  - 驾驶证
  - OTP
  - 安全备注
- 支持自定义字段，字段类型包括：文本、密码、OTP
- 模板自动分配字段类型
- 保存条目元数据（时间戳、分类等）
- 数据条目结构包含：标题、分类、创建时间、更新时间、字段数组（字段名、类型、值）

## 后端操作
- 用户认证和账户标识符生成
- 按需为用户可靠地部署个人容器，确保每次部署请求都能成功创建唯一容器
- 存储用户容器 ID 映射关系
- 将所有数据操作路由到用户的个人容器
- 完整的数据条目 CRUD 操作：
  - 创建数据条目：接收标题、分类、字段数组，自动设置创建和更新时间戳
  - 检索数据条目：获取用户的所有数据条目列表
  - 更新数据条目：修改现有条目的任何字段，更新时间戳
  - 删除数据条目：从用户的个人容器中移除指定条目
- 管理条目的自定义字段和模板字段初始化
- 为 OTP 字段生成 TOTP 代码
- 支持条目排序和过滤
- 准确查询容器部署状态，确保状态反映真实的部署情况
- 时间戳数据必须以前端可正确解析的格式返回，确保创建时间和更新时间能够正确转换为 JavaScript Date 对象

## 前端功能
- 登录前着陆页面，展示产品亮点，包含以下增强内容：
  - "全面数据模板"部分：介绍所有8个模板（加密钱包、登录信息、银行账户、信用卡、身份证件、驾驶证、OTP、安全备注），每个模板配有图标和详细描述
  - "为什么选择LotS？"部分：列出6个选择LotS的令人信服的理由
  - "核心优势"部分：突出展示平台的6个主要优势
  - 着陆页面内容视觉丰富、结构良好且引人入胜
- Internet Identity 钱包登录集成
- 用户菜单显示主体和账户 ID
- "部署个人容器"按钮，点击时可靠触发容器创建，部署期间显示明确的加载动画
- 容器部署操作的清晰成功和错误消息显示
- 部署成功后，UI 立即更新以反映容器存在状态，移除部署提示
- 仅在容器部署成功后启用数据录入功能
- 仪表板显示条目列表，支持排序和过滤
- 条目详情弹窗，包含字段特定处理和编辑/删除选项
- 密码字段支持显示/隐藏/复制功能
- OTP 字段显示动态 TOTP 码和倒计时
- 条目创建和编辑界面，包含分类网格和模板字段
- "新建条目"按钮逻辑：点击后弹出条目创建界面
- 支持选择模板、添加/移除自定义字段
- 字段类型自动分配和表单校验
- 保存与取消操作
- 完整的数据条目 CRUD 操作前端实现：
  - useCreateDataEntry：调用后端创建条目，处理加载和错误状态
  - useGetDataEntries：从后端获取条目列表，实时更新UI
  - useUpdateDataEntry：调用后端更新条目，立即反映变更
  - useDeleteDataEntry：调用后端删除条目，从列表中移除
- 所有 CRUD 操作后 UI 实时更新，优雅处理加载、错误、成功状态
- 密码生成器弹窗，可自定义选项
- 兼容 Google Authenticator 的 OTP 实现
- 敏感数据复制功能
- 响应式设计
- 简洁的 UI 和表单验证
- 加载状态、错误处理和确认对话框
- 时间戳显示修复：确保条目详情弹窗和其他相关组件中的"创建时间"和"更新时间"正确显示格式化日期，而不是"Invalid Date"，通过正确处理后端时间戳数据并转换为 JavaScript Date 对象

## 国际化支持
- 完整的国际化（i18n）支持，英语作为默认语言
- UI 中集成语言切换功能，用户可选择以下语言：
  - 英语（默认）
  - 简体中文
  - 繁体中文
  - 日语
  - 韩语
  - 越南语
  - 泰语
  - 马来语
  - 俄语
  - 阿拉伯语
  - 德语
- 所有 UI 文本、标签、消息和错误提示都使用 i18n 键值进行翻译
- 为每种支持的语言准备翻译文件，至少包含所有 UI 字符串的占位符
- 语言选择器组件集成到用户界面中
- 用户语言偏好设置持久化

## 数据操作流程
- 所有数据 CRUD 操作通过后端 API 与个人容器交互
- 前端 React hooks 与后端 Motoko 方法完全集成
- 确保数据隔离和安全性
- 前端与后端完整联动
- 明确的加载、成功、失败、确认等用户反馈
- CRUD 操作后 UI 状态实时同步

## 安全特性
- Internet Identity 钱包认证
- 每用户个人容器隔离
- 所有敏感数据加密存储
- 密码和 OTP 字段安全处理
- 基于模板的数据组织
- OTP 字段的标准 TOTP 实现

## 语言
- 应用内容使用中文（简体）
- 支持多语言界面，用户可根据偏好切换语言
